<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Advanced GIS 486/687 - Advanced GIS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Advanced GIS 486/687</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./labs/index.html" rel="" target="">
 <span class="menu-text">Labs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./project/index.html" rel="" target="">
 <span class="menu-text">Final Project</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ges-486687673-advanced-applications-in-geographic-information-systems" id="toc-ges-486687673-advanced-applications-in-geographic-information-systems" class="nav-link active" data-scroll-target="#ges-486687673-advanced-applications-in-geographic-information-systems">GES 486/687/673: Advanced Applications in Geographic Information Systems</a>
  <ul class="collapse">
  <li><a href="#course-focus-and-guiding-questions" id="toc-course-focus-and-guiding-questions" class="nav-link" data-scroll-target="#course-focus-and-guiding-questions">Course Focus and Guiding Questions</a></li>
  <li><a href="#course-objectives-and-goals" id="toc-course-objectives-and-goals" class="nav-link" data-scroll-target="#course-objectives-and-goals">Course Objectives and Goals</a></li>
  <li><a href="#logistics" id="toc-logistics" class="nav-link" data-scroll-target="#logistics">Logistics</a></li>
  <li><a href="#required-texts" id="toc-required-texts" class="nav-link" data-scroll-target="#required-texts">Required Texts</a></li>
  <li><a href="#course-schedule" id="toc-course-schedule" class="nav-link" data-scroll-target="#course-schedule">Course Schedule</a></li>
  <li><a href="#grading" id="toc-grading" class="nav-link" data-scroll-target="#grading">Grading</a></li>
  <li><a href="#late-assignments" id="toc-late-assignments" class="nav-link" data-scroll-target="#late-assignments">Late Assignments</a></li>
  <li><a href="#plagiarism" id="toc-plagiarism" class="nav-link" data-scroll-target="#plagiarism">Plagiarism</a></li>
  <li><a href="#disabilities" id="toc-disabilities" class="nav-link" data-scroll-target="#disabilities">Disabilities</a></li>
  <li><a href="#discrimination-and-sexual-harassment" id="toc-discrimination-and-sexual-harassment" class="nav-link" data-scroll-target="#discrimination-and-sexual-harassment">Discrimination and Sexual Harassment</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Advanced GIS</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<!-- https://bootswatch.com/cyborg/ -->
<section id="ges-486687673-advanced-applications-in-geographic-information-systems" class="level2">
<h2 class="anchored" data-anchor-id="ges-486687673-advanced-applications-in-geographic-information-systems">GES 486/687/673: Advanced Applications in Geographic Information Systems</h2>
<p><strong>Instructor: <a href="http://ges.umbc.edu/mahmoudi">Dillon Mahmoudi</a></strong> (he/him)<br>
<strong>Lecture:</strong> Mondays + Wednesdays 2:30PM - 3:45PM, Sondheim 001<br>
<strong>Office hours:</strong> Wednesdays 1:00PM to 2:30PM and by appointment (email me)<br>
<strong>Email:</strong> dillonm@umbc.edu<br>
</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="material/dollardollarbmore.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="course-focus-and-guiding-questions" class="level3">
<h3 class="anchored" data-anchor-id="course-focus-and-guiding-questions">Course Focus and Guiding Questions</h3>
<p>This course focuses on the methods for analyzing spatial data and provides an in-depth examination of technical aspects in spatial data handling, spatial pattern analysis, advanced raster processing, and dynamics GIS modeling. Students become familiar with advanced concepts, methods, and applications of Geographic Information Systems (GIS).</p>
</section>
<section id="course-objectives-and-goals" class="level3">
<h3 class="anchored" data-anchor-id="course-objectives-and-goals">Course Objectives and Goals</h3>
<section id="we-will-be-pursuing-a-host-of-goals." class="level4">
<h4 class="anchored" data-anchor-id="we-will-be-pursuing-a-host-of-goals.">We will be pursuing a host of <em>goals</em>.</h4>
<ol type="1">
<li><p>Provide general map development skills for the visualization, animation, scripting with spatial data.</p></li>
<li><p>Enhance student’s abilities to initiate and complete a GIS project from proposal to end product which contains sound reasoning in the use of scientific methods.</p></li>
<li><p>Data management and R programming.</p></li>
<li><p>Exposure to open-source GIS software and new technologies.</p>
<ol type="1">
<li><p>Satellite photos and machine-learning</p></li>
<li><p>Point clouds — specifically with open-source</p></li>
</ol></li>
<li><p>New spatial analysis methods.</p></li>
<li><p>Interactive dashboards.</p></li>
<li><p>International data exposure (IPUMS).</p></li>
</ol>
</section>
<section id="youll-be-assessed-on-three-outcomes." class="level4">
<h4 class="anchored" data-anchor-id="youll-be-assessed-on-three-outcomes.">You’ll be assessed on three <em>outcomes.</em></h4>
<ol type="1">
<li><p>Define what constitutes a spatial analysis using GIS.</p></li>
<li><p>Understand how GIS technology is implemented using open source software.</p></li>
<li><p>Complete an independent research-based analysis utilizing main-stream GIS technology to address a scientific topic of societal concern.</p></li>
</ol>
</section>
<section id="as-policy-in-this-course-i-have-expectations-of-you." class="level4">
<h4 class="anchored" data-anchor-id="as-policy-in-this-course-i-have-expectations-of-you.">As policy, in this course, I have <em>expectations</em> of you.</h4>
<ol type="1">
<li><p>You’ll do the labs. On time. <strong>In order</strong>. This isn’t me being a stickler, it’s how the course scaffolds.</p></li>
<li><p>No makeup quizzes will be given. Contact me ahead of time if you’re going to miss a class.</p></li>
<li><p>Attendance is expected. Missing more than a couple classes will significantly reduce your grade.</p></li>
</ol>
</section>
<section id="be-thinking-about" class="level4">
<h4 class="anchored" data-anchor-id="be-thinking-about">Be thinking about</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What do you want to spatially explore in this course?
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Can we map people and the environment, separately?
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What role does theory play in mapping and analysis?
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
</section>
</section>
<section id="logistics" class="level3">
<h3 class="anchored" data-anchor-id="logistics">Logistics</h3>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Blackboard.</strong> This is the course outline and schedule. Please check <a href="https://my3.my.umbc.edu/go/blackboard"><strong>Blackboard</strong></a> for a link to this site, a link to the class Blackboard session. Turn all assignments in on Blackboard. Know the difference between the backend (code) and the front end (formatted web page) to turn-in GitHub links. Assignments will be posted on Blackboard (links) and GitHub.</p>
</div>
</div>
<p><strong>Computing.</strong> I recommend using your own personal laptop in this course, however, you’re free to use one of the lab computers. I recommend using the same computer for each class.</p>
<p><strong>Discord + Community.</strong> <mark>Technical learning alone</mark> is a recipe for disaster. Rely on your fellow classmates and ask questions in the class discord. This link is an invite for Discord for the first week of class. <a href="https://discord.gg/9wUhDdQV" class="uri">https://discord.gg/9wUhDdQV</a></p>
<p><strong>Schedule.</strong>. Mondays we will spend on lecturing. Wednesdays we’ll start with a quick in-class exercise before moving into lab time. Quizzes will be on Wednesdays.</p>
</section>
<section id="required-texts" class="level3">
<h3 class="anchored" data-anchor-id="required-texts">Required Texts</h3>
<p>O’Sullivan, David. 2024. <strong>Computing Geographically</strong>: Bridging GIScience and Geography. New York and London: Guilford Press. ISBN-13: 9781462553938.</p>
<ul>
<li>This will be the main material for quizzes. This will be required by Week 3. Consider the e-book.</li>
</ul>
<p>Cutts, Andrew and Anita Graser. 2018. <strong>Learn QGIS</strong>: your step-by-step guide to the fundamental of QGIS 3.4. Fourth Edition. Birmingham, UK: Packt Publishing. ISBN-13: 9781788998864.</p>
<ul>
<li><p>You can get this book online for free from the UMBC library: <a href="https://catalog.umd.edu/docno=006153965" class="uri">https://catalog.umd.edu/docno=006153965</a></p></li>
<li><p>Make sure to review the Preface to get the needed data and materials for the various chapters.</p></li>
</ul>
<p>Walker, Kyle. Online. <strong>Analyzing US Census Data</strong>: Methods, Maps, and Models in R.</p>
<ul>
<li>This book is freely available: <a href="https://walker-data.com/census-r/" class="uri">https://walker-data.com/census-r/</a></li>
</ul>
<p>Wickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. <strong>R for Data Science</strong>: Import, Tidy, Transform, Visualize, and Model Data. 2nd edition. Beijing Boston Farnham Sebastopol Tokyo: O’Reilly Media.</p>
<ul>
<li>This book is freely available: <a href="https://r4ds.hadley.nz/" class="uri">https://r4ds.hadley.nz/</a></li>
</ul>
</section>
<section id="course-schedule" class="level3">
<h3 class="anchored" data-anchor-id="course-schedule">Course Schedule</h3>
<p>This course is designed around a series of labs and a final project. The final project is designed to give you flexibility to explore what you want to explore. In addition there will be short quizzes along the way which are part of your grade.</p>
<section id="learning-qgis" class="level4">
<h4 class="anchored" data-anchor-id="learning-qgis">Learning QGIS</h4>
<ul>
<li><p>Week 01 (Jan 29): <a href="labs/lab01">Lab 01</a></p></li>
<li><p><a href="./labs/lab02/week2.html">Week 02</a> (Feb 05): Lab 02 <a href="labs/lab02">Lab 2</a></p></li>
<li><p>Week 03 (Feb 12): Lab 03<!--[Lab 3](/labs/lab03)--></p></li>
</ul>
</section>
<section id="learning-rrstudio" class="level4">
<h4 class="anchored" data-anchor-id="learning-rrstudio">Learning R/RStudio</h4>
<ul>
<li><p>Week 04 (Feb 19): Lab 04<!--[Lab 4](/labs/lab04)--></p></li>
<li><p>Week 05 (Feb 26): Lab 05<!--[Lab 5](/labs/lab05)--></p></li>
</ul>
</section>
<section id="advanced-spatial-analysis" class="level4">
<h4 class="anchored" data-anchor-id="advanced-spatial-analysis">Advanced Spatial Analysis</h4>
<ul>
<li><p>Week 06 (Mar 04): Lab 06<!--[Lab 6](/labs/lab06)--></p></li>
<li><p>Week 07 (Mar 11): Lab 07<!--[Lab 7](/labs/lab07)--></p></li>
<li><p>Week 08 (Mar 18): <mark><strong>NO CLASS, Spring Break</strong></mark></p></li>
<li><p>Week 09 (Mar 25): Lab 08<!--[Lab 8](/labs/lab08)-->; <mark><strong>NO CLASS Mar 27</strong></mark></p></li>
</ul>
</section>
<section id="advanced-techniques" class="level4">
<h4 class="anchored" data-anchor-id="advanced-techniques">Advanced Techniques</h4>
<ul>
<li><p>Week 10 (Apr 01): Lab 09<!--[Lab 9](/labs/lab09)--></p></li>
<li><p>Week 11 (Apr 08): Lab 10<!--[Lab 9](/labs/lab09)--></p></li>
<li><p>Week 12 (Apr 15): Lab 11<!--[Lab 10](/labs/lab10)--></p></li>
<li><p>Week 13 (Apr 22): Lab 12<!--[Lab 11](/labs/lab11)--></p></li>
</ul>
</section>
<section id="final-project" class="level4">
<h4 class="anchored" data-anchor-id="final-project">Final Project</h4>
<ul>
<li><p>Week 14 (Apr 29): Final project proposal, work sessions.</p></li>
<li><p>Week 15 (May 06): Final project work sessions.</p></li>
<li><p>Week 16 (May 13): Final project draft due, code review.</p></li>
<li><p><mark>Finals Period (May 17, 1pm): Graduate Student Project Presentations</mark></p></li>
<li><p><mark>May 17 at 11:59pm: Final projects submissions due.</mark></p></li>
</ul>
</section>
</section>
<section id="grading" class="level3">
<h3 class="anchored" data-anchor-id="grading">Grading</h3>
<section id="undergraduate-scale" class="level4">
<h4 class="anchored" data-anchor-id="undergraduate-scale">Undergraduate Scale</h4>
<p><strong>A</strong> 90%; <strong>B</strong> 80%; <strong>C</strong> 70%; <strong>D</strong> 60%; <strong>F</strong> &lt; 60%</p>
</section>
<section id="graduate-scale" class="level4">
<h4 class="anchored" data-anchor-id="graduate-scale">Graduate Scale</h4>
<p><strong>A</strong> 93%; <strong>A-</strong> 90%; <strong>B+</strong> 87%; <strong>B</strong> 83%; <strong>B-</strong> 80%; <strong>C+</strong> 77%; <strong>C</strong> 73%; <strong>C-</strong> 70%; <strong>D</strong> 67%; <strong>F</strong> &lt; 60%</p>
</section>
<section id="breakdown" class="level4">
<h4 class="anchored" data-anchor-id="breakdown">Breakdown</h4>
<p>Attendance + Participation + Sharing: <strong>10%</strong><br>
Labs: <strong>40%<br>
</strong>Quizzes: <strong>10%</strong><br>
Final Project: <strong>40%</strong></p>
</section>
</section>
<section id="late-assignments" class="level3">
<h3 class="anchored" data-anchor-id="late-assignments">Late Assignments</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Late Work
</div>
</div>
<div class="callout-body-container callout-body">
<p>You do <mark><strong>yourself</strong></mark> a disservice when you turn in late work or skip assignments. It hampers your ability to build. Don’t do it!</p>
</div>
</div>
<p>Late work will be deducted 5% per twenty-four hour period that elapses after the due date. If foreseen or unforeseen circumstances prevent you from completing an assignment on time, you may request an extension. Extensions must be requested in advance of the due date. If the situation warrants an extension, we will determine a new due date for the essay based on your individual circumstances.</p>
</section>
<section id="plagiarism" class="level3">
<h3 class="anchored" data-anchor-id="plagiarism">Plagiarism</h3>
<p>“Academic integrity has everything to do with one’s character.” -Former UMBC President Freeman Hrawbowski</p>
<p>Academic integrity is an important value at UMBC. By enrolling in this course, each student assumes the responsibilities of an active participant in UMBC’s scholarly community in which everyone’s academic work and behavior are held to the highest standards of honesty. Cheating, fabrication, plagiarism, and helping others to commit these acts are all forms of academic dishonesty, and they are wrong. Academic misconduct could result in disciplinary action that may include, but is not limited to, suspension or dismissal.</p>
<p>✅ Policy: <a href="https://oue.umbc.edu/ai/" class="uri">https://oue.umbc.edu/ai/</a></p>
</section>
<section id="disabilities" class="level3">
<h3 class="anchored" data-anchor-id="disabilities">Disabilities</h3>
<p>The Americans with Disabilities Act (ADA) is a federal anti-discrimination statute that provides comprehensive civil rights protection for persons with disabilities. Among other things, this legislation requires that all students with disabilities be guaranteed a learning environment that provides for reasonable accommodation of their disabilities. Moreover, the UMBC requires students register with the Office of Student Disability Services and I will work with you and the SDS to ensure your success.</p>
<p>✅ Policy: <a href="http://sds.umbc.edu/accommodations/registering-with-sds" class="uri">http://sds.umbc.edu/accommodations/registering-with-sds</a></p>
</section>
<section id="discrimination-and-sexual-harassment" class="level3">
<h3 class="anchored" data-anchor-id="discrimination-and-sexual-harassment">Discrimination and Sexual Harassment</h3>
<p>With UMBC, I am dedicated to fostering an inclusive and welcoming environment for all members of the campus community and recognizes its responsibility to maintain a campus environment which is free from Sexual Misconduct, and other Related Misconduct. This Policy embodies the University’s commitment to increasing awareness of such prohibited conduct and actively promoting prevention and educational programs for community members in an effort to eliminate occurrences, prevent re-occurrences, and address and remedy the discriminatory effects of the Sexual Misconduct. For additional resources, see UMBC’s policy posted online.</p>
<p>✅ Policy: <a href="http://humanrelations.umbc.edu/sexual-misconduct/umbc-resource-page-for-sexual-misconduct-andother-related-misconduct/" class="uri">http://humanrelations.umbc.edu/sexual-misconduct/umbc-resource-page-for-sexual-misconduct-andother-related-misconduct/</a></p>
<p>✅ File a complaint: <a href="http://humanrelations.umbc.edu/sexual-misconduct/file-a-complaint/" class="uri">http://humanrelations.umbc.edu/sexual-misconduct/file-a-complaint/</a></p>
<p><strong>If you need to speak to someone, UMBC has the following resources available to support you:</strong></p>
<ul>
<li><p>The Counseling Center (confidential): 410-455-2472</p></li>
<li><p>University Health Services (confidential): 410-455-2542</p></li>
<li><p>After-hours counseling and care available by calling campus police at: 410-455-5555</p></li>
<li><p>The Women’s Center (quasi-confidential): 410-455-2714</p></li>
<li><p>Title IX Coordinator (quasi-confidential): 410-455-1606</p></li>
</ul>
<p>✅ Additional on and off campus supports and resources can be found at: <a href="http://humanrelations.umbc.edu/sexualmisconduct/gender-equitytitle-ix/" class="uri">http://humanrelations.umbc.edu/sexualmisconduct/gender-equitytitle-ix/</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>